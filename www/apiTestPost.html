<!DOCTYPE html>
<html>
<head>
<title>JSSample</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
</head>
<body>

      <h2>API Testing</h2>
    <h4>Shipment - Create<br /></h4>
    <p id="shipmentlist"></p>

<script type="text/javascript">
    var params = {
        // SlurpTest2 Sub Key = 36bc998ba68b49488cacd8d72440fb33
        // FeepTest Sub Key = 90e2715c9f494de6b1f2190baf7228ca
        // SLURP CoId - 15056
        // FEEP CoId - 17052
        'subscription-key': '90e2715c9f494de6b1f2190baf7228ca',
        'CoId': 17052
        
    };
    //Cppied from the developer portal more or less orderNumber and logicbroker key have been switched
    var sendingData =
    {
        "ShipFromAddress": {
            "CompanyName": "FEEP",
            "FirstName": null,
            "LastName": null,
            "Title": null,
            "Address1": "10 UIT Way",
            "Address2": null,
            "City": "Beacon Falls",
            "State": "CT",
            "Country": "US",
            "Zip": "06403",
            "Province": null,
            "AddressCode": null,
            "StateCode": null,
            "CountryCode": null,
            "Phone": "203-463-3300",
            "ContactID": null,
            "ContactType": 0,
            "Email": null,
            "TaxNumber": null,
            "FaxNumber": null,
            "Note": null,
            "ExtendedAttributes": null
        },
        "ShipmentDate": null,
        "ExpectedDeliveryDate": "2014-03-10T00:00:00",
        "InvoiceNumber": "",
        "ShipmentNumber": "232591006",
        "ShipmentLines": [
          {
              "ItemIdentifier": {
                  "SupplierSKU": "LB-000110",
                  "PartnerSKU": null,
                  "ParentSKU": "",
                  "ManufacturerSKU": null,
                  "ExternalSKU": null,
                  "ASIN": null,
                  "UPC": "",
                  "ISBN": null,
                  "SerialNumber": null
              },
              "Price": 0,
              "Cost": 0,
              "MSRP": 0,
              "Description": "apparently",
              "Discounts": null,
              "ShipmentInfos": [
                {
                    "DateShipped": null,
                    "CarrierCode": "UNSP",
                    "ClassCode": null,
                    "TrackingNumber": null,
                    "ShippingDiscounts": null,
                    "SellerFullfillmentId": null,
                    "ShipmentCost": 156,
                    "ShipmentTaxes": null,
                    "InsuranceCost": 0
                }
              ],
              "Taxes": null,
              "WarehouseCode": null,
              "ShippingAddress": null,
              "IsDropShip": false,
              "Quantity": 24,
              "LineNumber": 1,
              "Weight": 0,
              "WeightUOM": null,
              "ExtendedAttributes": []
          },
          {
              "ItemIdentifier": {
                  "SupplierSKU": "LB-000078",
                  "PartnerSKU": null,
                  "ParentSKU": "",
                  "ManufacturerSKU": null,
                  "ExternalSKU": null,
                  "ASIN": null,
                  "UPC": "",
                  "ISBN": null,
                  "SerialNumber": null
              },
              "Price": 6.5,
              "Cost": 0,
              "MSRP": 0,
              "Description": "this is required",
              "Discounts": null,
              "ShipmentInfos": [
                {
                    "DateShipped": "2014-09-30T16:00:00",
                    "CarrierCode": "UNSP",
                    "ClassCode": null,
                    "TrackingNumber": null,
                    "ShippingDiscounts": null,
                    "SellerFullfillmentId": null,
                    "ShipmentCost": 156,
                    "ShipmentTaxes": null,
                    "InsuranceCost": 0
                }
              ],
              "Taxes": null,
              "WarehouseCode": null,
              "ShippingAddress": null,
              "IsDropShip": null,
              "Quantity": 24,
              "LineNumber": 1,
              "Weight": 0,
              "WeightUOM": null,
              "ExtendedAttributes": []
          }
        ],
        "Identifier": {
            "SourceKey": "OR1410013665-001",
            "LogicbrokerKey": 25,
            "DestinationKey": null,
            "LinkKey": "1410013665"
        },
        "OrderNumber": "OR1410013665-001",
        "PartnerPO": "OR1410013665-001",
        "SupplierPO": null,
        "OrderDate": "2014-02-12T00:00:00",
        "Discounts": null,
        "Taxes": null,
        "Payments": null,
        "PaymentTerm": null,
        "ShipmentInfos": null,
        "ShipToAddress": {
            "CompanyName": "Burlington Coat Factory",
            "FirstName": null,
            "LastName": null,
            "Title": null,
            "Address1": "4287 Route 130 South",
            "Address2": null,
            "City": "Edgewater Park",
            "State": "NJ",
            "Country": null,
            "Zip": "08010",
            "Province": null,
            "AddressCode": null,
            "StateCode": null,
            "CountryCode": null,
            "Phone": null,
            "ContactID": null,
            "ContactType": 0,
            "Email": null,
            "TaxNumber": null,
            "FaxNumber": null,
            "Note": null,
            "ExtendedAttributes": null
        },
        "BillToAddress": {
            "CompanyName": "Burlington Coat Factory",
            "FirstName": null,
            "LastName": null,
            "Title": null,
            "Address1": "ATTN: ACCOUNTS PAYABLE",
            "Address2": "1830 ROUTE 130 N",
            "City": "BURLINGTON",
            "State": "NJ",
            "Country": null,
            "Zip": "08016",
            "Province": null,
            "AddressCode": "02",
            "StateCode": null,
            "CountryCode": null,
            "Phone": null,
            "ContactID": null,
            "ContactType": 0,
            "Email": "",
            "TaxNumber": null,
            "FaxNumber": null,
            "Note": null,
            "ExtendedAttributes": null
        },
        "ExtendedAttributes": null,
        "TotalAmount": 624,
        "Currency": null,
        "Status": null,
        "HandlingAmount": 0,
        "HandlingTaxes": null,
        "Note": null,
        "WarehouseCode": null
    }


    $(document).ready(function () {
        $.ajax({
            //changed URL with updated FEEP CoId
            url: 'https://logicbroker.azure-api.net/stage-api/v1/15056/shipments?' + $.param(params),
            type: 'POST',
            data: JSON.stringify(sendingData),
            contentType: 'application/json; charset=utf-8',
            dataType: 'json'
        })
        .done(function (data) {
            alert("success");
        })
        .fail(function () {
            alert("error");
        });
    });
</script>
</body>
</html>