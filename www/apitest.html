<!DOCTYPE html>
<html>
    <head>
<title>JSSample</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
</head>
<body>

<h2>API Testing</h2>
    <h4>Sales Orders - Get List<br /></h4>
    <p id="salesorders"></p>
    <h4>Test for OrderNumber<br /></h4>
    <p id="test"></p>

<script>   

    //added function - SalesOrders Get List

    $(function () {
        var params = {
            // Specify your subscription key
            'subscription-key': '36bc998ba68b49488cacd8d72440fb33',
        };

        $.ajax({
            // Specify values for path parameters (shown as {...})
            url: 'https://logicbroker.azure-api.net/stage-api/v1/0/salesorders?status=Submitted&' + $.param(params),
            type: 'GET',
            origin: 'foo'
        })
        .done(function (data) {
            alert("success");
            var len = data.Body.SalesOrders.length;
            for (var i=0; i <= len; i++) {
                $("#salesorders").append(data.Body.SalesOrders[i].OrderNumber + "<br>" + data.Body.SalesOrders[i].OrderDate + "<br>" + data.Body.SalesOrders[i].Status + "<br><br>");
            }
        })
        .fail(function () {
            alert("error");
        });
    });

   
    // added function - Test for a SalesOrder - get list using order number

    //$(function () {
    //    var params = {
    //        // Specify your subscription key
    //        'subscription-key': '36bc998ba68b49488cacd8d72440fb33',
    //        // Specify values for optional parameters, as needed
    //        status: "Submitted",
    //        // to: "",
    //        // from: "",
    //        // page: "",
    //        orderNumber: "1409013260",
    //    };

    //    $.ajax({
    //        url: 'https://logicbroker.azure-api.net/stage-api/v1/0/salesorders?' + $.param(params),
    //        type: 'GET',
    //    })
    //      .done(function (data) {
    //          alert("success");
    //          //var len = data.Body.SalesOrders.length;
    //          //for (var i = 0; i <= len; i++) {
    //            //$("#test").append(data.Body.SalesOrders[i].OrderNumber + "<br>" + data.Body.SalesOrders[i].OrderDate + "<br>" + data.Body.SalesOrders[i].Status + "<br><br>");
    //          //}
    //      //})
    //    .fail(function () {
    //        alert("error");
    //    });
    //});
</script>

</body>
</html>

